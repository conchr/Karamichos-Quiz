<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Κουίζ: Ο Πύργος του Καραμίχου</title>
    <style>
        /* Custom CSS για αισθητική παιχνιδιού */
        body {
            font-family: 'Georgia', serif;
            background: #8b7355; /* Καφέ φόντο που μοιάζει με ξύλο */
            color: #3e2723;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .quiz-container {
            background-color: #f5f1e6; /* Βασικό χρώμα παλιού χαρτιού */
            color: #3e2723;
            padding: 30px;
            border-radius: 5px; /* Μικρότερη ακτίνα για πιο "τετράγωνο" χαρτί */
            box-shadow: 
                0 10px 25px rgba(0, 0, 0, 0.3),
                0 0 30px rgba(139, 115, 85, 0.2) inset, /* Σκιά προς τα μέσα */
                0 0 15px rgba(0, 0, 0, 0.1); /* Εξωτερική σκιά */
            max-width: 600px;
            width: 100%;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            
            /* Υφή παλιού χαρτιού */
            background-image: 
                linear-gradient(rgba(210, 180, 140, 0.3) 1px, transparent 1px),
                linear-gradient(90deg, rgba(210, 180, 140, 0.3) 1px, transparent 1px),
                linear-gradient(rgba(245, 241, 230, 0.8) 2px, transparent 2px),
                linear-gradient(90deg, rgba(245, 241, 230, 0.8) 2px, transparent 2px);
            background-size: 20px 20px, 20px 20px, 100px 100px, 100px 100px;
            
            /* Ανομοιόμορφο χρώμα */
            background-color: #f5f1e6;
            background-blend-mode: multiply;
            
            /* Ζάρες και κηλίδες */
            position: relative;
        }

        /* Προσομοίωση ζαρών στο χαρτί */
        .quiz-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(220, 200, 170, 0.2) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(200, 180, 150, 0.2) 0%, transparent 20%),
                radial-gradient(circle at 40% 40%, rgba(210, 190, 160, 0.15) 0%, transparent 20%),
                radial-gradient(circle at 70% 30%, rgba(190, 170, 140, 0.15) 0%, transparent 20%);
            pointer-events: none;
            z-index: 1;
        }

        /* Για να βεβαιωθούμε ότι το περιεχόμενο είναι πάνω από τις ζάρες */
        .quiz-container > * {
            position: relative;
            z-index: 2;
        }

        h1 {
            font-size: 1.8rem;
            text-align: center;
            color: #5d4037; /* Σκούρο καφέ αντί για μπλε */
            margin-bottom: 25px;
            border-bottom: 2px solid #8d6e63; /* Καφέ γραμμή */
            padding-bottom: 10px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .question-box {
            background-color: rgba(237, 231, 216, 0.8); /* Ανοιχτό καφέ για την ερώτηση */
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 1.1rem;
            font-weight: bold;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            border: 1px solid #d7ccc8; /* Απαλό περίγραμμα */
        }

        .choices button {
            display: block;
            width: 100%;
            padding: 12px 20px;
            margin-bottom: 10px;
            border: none;
            border-radius: 5px;
            background-color: #d7ccc8; /* Ανοιχτό καφέ */
            color: #4e342e;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.1);
            text-align: left;
            border: 1px solid #bcaaa4;
        }

        .choices button:hover:not(:disabled) {
            background-color: #bcaaa4;
            color: #3e2723;
            transform: translateY(-2px);
            box-shadow: 0 5px 8px rgba(0, 0, 0, 0.15);
        }

        .choices button:active:not(:disabled) {
            transform: translateY(1px);
            box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);
        }

        /* Κατάσταση απενεργοποίησης μετά την επιλογή */
        .choices button:disabled {
            opacity: 0.9;
            cursor: not-allowed;
            box-shadow: none;
        }

        /* Στυλ για σωστή και λανθασμένη απάντηση */
        .correct {
            background-color: #a5d6a7 !important; /* Ανοιχτό πράσινο */
            color: #1b5e20 !important;
            box-shadow: 0 3px 5px rgba(76, 175, 80, 0.3) !important;
            border-color: #81c784 !important;
        }

        .incorrect {
            background-color: #ef9a9a !important; /* Ανοιχτό κόκκινο */
            color: #b71c1c !important;
            box-shadow: 0 3px 5px rgba(244, 67, 54, 0.3) !important;
            border-color: #e57373 !important;
        }

        .footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            border-top: 1px solid #d7ccc8;
            padding-top: 15px;
        }

        .score-display, .question-number {
            font-weight: bold;
            color: #5d4037;
        }

        /* Modal για τα αποτελέσματα */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease;
        }

        .modal.open {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: #f5f1e6;
            padding: 40px;
            border-radius: 5px;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            color: #3e2723;
            position: relative;
            overflow: hidden;
            
            /* Ίδιο στυλ παλιού χαρτιού */
            background-image: 
                linear-gradient(rgba(210, 180, 140, 0.3) 1px, transparent 1px),
                linear-gradient(90deg, rgba(210, 180, 140, 0.3) 1px, transparent 1px);
            background-size: 20px 20px, 20px 20px;
        }

        .modal-content::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(220, 200, 170, 0.2) 0%, transparent 20%),
                radial-gradient(circle at 80% 70%, rgba(200, 180, 150, 0.2) 0%, transparent 20%);
            pointer-events: none;
        }

        .modal-content h2 {
            font-size: 2rem;
            color: #5d4037;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
        }

        .modal-content p {
            font-size: 1.1rem;
            margin-bottom: 25px;
            position: relative;
            z-index: 2;
        }

        .modal-content button {
            background-color: #8d6e63;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            margin: 5px;
            position: relative;
            z-index: 2;
        }

        .modal-content button:hover {
            background-color: #6d4c41;
        }
        
        /* Κουμπί Επιστροφής */
        #return-btn {
            background-color: #a1887f;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: bold;
            text-decoration: none;
            transition: background-color 0.3s;
            display: inline-block;
            margin-top: 15px;
            position: relative;
            z-index: 2;
        }

        #return-btn:hover {
            background-color: #8d6e63;
        }

        /* Βελτιωμένο κουμπί Επόμενης Ερώτησης */
        #next-btn {
            background-color: #8d6e63;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
        }

        #next-btn:hover:not(:disabled) {
            background-color: #6d4c41;
            transform: translateY(-2px);
            box-shadow: 0 5px 8px rgba(0, 0, 0, 0.25);
        }

        #next-btn:active:not(:disabled) {
            transform: translateY(1px);
            box-shadow: 0 2px 3px rgba(0, 0, 0, 0.2);
        }

        #next-btn:disabled {
            background-color: #bcaaa4;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }

        /* Media Queries για καλύτερη εμφάνιση σε κινητά */
        @media (max-width: 650px) {
            .quiz-container {
                margin: 10px;
                padding: 20px;
            }
            h1 {
                font-size: 1.5rem;
            }
            .choices button {
                font-size: 0.95rem;
            }
            .footer {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>

    <div class="quiz-container">
        <h1>Κουίζ Ιστορίας: Ο Πύργος του Καραμίχου</h1>

        <div class="question-number" id="question-number">Ερώτηση 1 / 15</div>
        <div class="question-box" id="question-box"></div>

        <div class="choices" id="choices-container">
            <!-- Οι επιλογές θα εισαχθούν εδώ από το JavaScript -->
        </div>

        <div class="footer">
            <button id="next-btn" disabled>
                Επόμενη Ερώτηση
            </button>
            <div class="score-display">Σκορ: <span id="score">0</span></div>
        </div>
    </div>

    <!-- Modal Αποτελεσμάτων -->
    <div id="results-modal" class="modal">
        <div class="modal-content">
            <h2>🎉 Ολοκληρώθηκε το Κουίζ!</h2>
            <p>Το τελικό σου σκορ είναι: <span id="final-score" style="font-size: 1.5rem; font-weight: bold; color: #5d4037;"></span></p>
            <p id="performance-message"></p>
            <button id="restart-btn">Ξανά από την αρχή</button>
            <a id="return-btn" href="https://conchr.github.io/Farsala-Center-Page/">Επιστροφή στην Αρχική Σελίδα</a>
        </div>
    </div>

    <script>
        // Δεδομένα Κουίζ βασισμένα στην Παρουσίαση
        const quizData = [
            {
                question: "Τι είδους κτίριο είναι ο Πύργος του Καραμίχου;",
                choices: ["Κονακάκι", "Πυργόσπιτο", "Βυζαντινός Ναός", "Οθωμανικό Λουτρό"],
                answer: "Πυργόσπιτο"
            },
            {
                question: "Σε ποιον αιώνα εκτιμάται ότι κατασκευάστηκε ο Πύργος;",
                choices: ["16ος αιώνας", "18ος αιώνας", "20ος αιώνας", "19ος αιώνας"],
                answer: "18ος αιώνας"
            },
            {
                question: "Σε ποια ιστορική περίοδο χτίστηκε ο Πύργος;",
                choices: ["Ελληνική Επανάσταση", "Ρωμαϊκή Εποχή", "Τουρκοκρατία", "Αρχαία Φάρσαλα"],
                answer: "Τουρκοκρατία"
            },
            {
                question: "Ποια οικογένεια απέκτησε τον Πύργο αμέσως μετά την ενσωμάτωση της Θεσσαλίας (1881);",
                choices: ["Καραμίχου", "Σίμου", "Πανταζή", "Παπαδημητρίου"],
                answer: "Πανταζή"
            },
            {
                question: "Πότε αγόρασε τον Πύργο ο Σωτήρης Καραμίχος;",
                choices: ["1921", "1931", "1942", "1954"],
                answer: "1931"
            },
            {
                question: "Από πού καταγόταν ο Σωτήρης Καραμίχος;",
                choices: ["Καρδίτσα", "Βόλος", "Ασπροπόταμος", "Λάρισα"],
                answer: "Ασπροπόταμος"
            },
            {
                question: "Πώς ονομαζόταν ο δεύτερος όροφος του Πύργου λόγω των τοιχογραφιών του;",
                choices: ["Χειμερινός Εξώστης", "Γραμμένος Οντάς", "Διημερεύσεως", "Αίθουσα Συμβουλίου"],
                answer: "Γραμμένος Οντάς"
            },
            {
                question: "Ποιου μυθικού ήρωα η τοιχογραφία υπήρχε στον βόρειο τοίχο;",
                choices: ["Οδυσσέα", "Ηρακλή", "Αχιλλέα", "Θησέα"],
                answer: "Αχιλλέα"
            },
            {
                question: "Ποια ήταν η αιτία θανάτου του Σωτήρη Καραμίχου το 1942;",
                choices: ["Φυσιολογικός θάνατος", "Σεισμός", "Τύφος/Λιμός", "Πολεμικά γεγονότα"],
                answer: "Τύφος/Λιμός"
            },
            {
                question: "Τι συνέβη στους εσωτερικούς τοίχους μετά την καταστροφή του 1943;",
                choices: ["Αναπαλαιώθηκαν", "Ασβεστώθηκαν", "Καταστράφηκαν ολοσχερώς", "Δεν άλλαξαν"],
                answer: "Ασβεστώθηκαν"
            },
            {
                question: "Ποια οικογένεια ενοικίασε τον Πύργο μετά την αποχώρηση των Καραμίχου (1945-1954);",
                choices: ["Οικογένεια Σίμου", "Οικογένεια Παπάγου", "Οικογένεια Βασιλείου", "Οικογένεια Γεωργίου"],
                answer: "Οικογένεια Σίμου"
            },
            {
                question: "Ποιο φυσικό γεγονός οδήγησε στην οριστική εγκατάλειψη του Πύργου από τους ενοίκους;",
                choices: ["Πλημμύρα του 1950", "Πυρκαγιά του 1948", "Σεισμός του 1954", "Χιονοθύελλα του 1952"],
                answer: "Σεισμός του 1954"
            },
            {
                question: "Σε ποιον δωρήθηκε ο Πύργος για να αναστυλωθεί;",
                choices: ["Στην Εκκλησία", "Στο Υπουργείο Πολιτισμού", "Στο Δήμο Φαρσάλων", "Σε ιδιώτη συλλέκτη"],
                answer: "Στο Δήμο Φαρσάλων"
            },
            {
                question: "Ποιος είναι ο σύγχρονος ρόλος του αναστηλωμένου Πύργου;",
                choices: ["Αρχαιολογικό Μουσείο", "Λαογραφικό Μουσείο", "Δημαρχείο", "Κέντρο Ψηφιακής Φωτογραφίας"],
                answer: "Κέντρο Ψηφιακής Φωτογραφίας"
            },
            {
                question: "Τι ιστορικά τεκμήρια, μεταξύ άλλων, φιλοξενούνται στον Πύργο σήμερα;",
                choices: ["Αρχαία αγάλματα", "Οθωμανικά φιρμάνια", "Βυζαντινές εικόνες", "Παλιά νομίσματα"],
                answer: "Οθωμανικά φιρμάνια"
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let questionAnswered = false;

        const questionBox = document.getElementById('question-box');
        const choicesContainer = document.getElementById('choices-container');
        const scoreDisplay = document.getElementById('score');
        const nextBtn = document.getElementById('next-btn');
        const questionNumberIndicator = document.getElementById('question-number');
        const modal = document.getElementById('results-modal');
        const finalScoreSpan = document.getElementById('final-score');
        const restartBtn = document.getElementById('restart-btn');
        const performanceMessage = document.getElementById('performance-message');

        /**
         * Φορτώνει και εμφανίζει την τρέχουσα ερώτηση.
         */
        function loadQuestion() {
            if (currentQuestionIndex >= quizData.length) {
                showResults();
                return;
            }

            questionAnswered = false;
            nextBtn.disabled = true;
            questionNumberIndicator.textContent = `Ερώτηση ${currentQuestionIndex + 1} / ${quizData.length}`;

            const currentQuestion = quizData[currentQuestionIndex];
            questionBox.textContent = currentQuestion.question;
            choicesContainer.innerHTML = '';

            // Δημιουργία κουμπιών επιλογών
            currentQuestion.choices.forEach(choice => {
                const button = document.createElement('button');
                button.textContent = choice;
                button.addEventListener('click', () => checkAnswer(button, choice, currentQuestion.answer));
                choicesContainer.appendChild(button);
            });
        }

        /**
         * Ελέγχει την απάντηση, ενημερώνει το σκορ και απενεργοποιεί τα κουμπιά.
         * @param {HTMLButtonElement} selectedButton - Το κουμπί που επέλεξε ο χρήστης.
         * @param {string} selectedChoice - Η επιλογή του χρήστη.
         * @param {string} correctAnswer - Η σωστή απάντηση.
         */
        function checkAnswer(selectedButton, selectedChoice, correctAnswer) {
            if (questionAnswered) return;

            questionAnswered = true;
            nextBtn.disabled = false;

            const allButtons = choicesContainer.querySelectorAll('button');
            allButtons.forEach(btn => {
                btn.disabled = true;
                if (btn.textContent === correctAnswer) {
                    btn.classList.add('correct');
                }
            });

            if (selectedChoice === correctAnswer) {
                score++;
                selectedButton.classList.add('correct');
            } else {
                selectedButton.classList.add('incorrect');
            }

            scoreDisplay.textContent = score;
        }

        /**
         * Προχωρά στην επόμενη ερώτηση.
         */
        function nextQuestion() {
            if (questionAnswered) {
                currentQuestionIndex++;
                loadQuestion();
            }
        }

        /**
         * Εμφανίζει το modal με τα τελικά αποτελέσματα.
         */
        function showResults() {
            finalScoreSpan.textContent = `${score} / ${quizData.length}`;
            
            // Προσθήκη μηνύματος απόδοσης
            const percentage = (score / quizData.length) * 100;
            let message = "";
            if (percentage >= 90) {
                message = "Εξαιρετική απόδοση! Είσαι ειδικός στην ιστορία του Πύργου του Καραμίχου!";
            } else if (percentage >= 70) {
                message = "Πολύ καλά! Έχεις καλή γνώση για τον Πύργο του Καραμίχου.";
            } else if (percentage >= 50) {
                message = "Καλά! Υπάρχει χώρος για βελτίωση, αλλά τα πήγες καλά.";
            } else {
                message = "Μπορείς να διαβάσεις περισσότερα για τον Πύργο του Καραμίχου και να προσπαθήσεις ξανά!";
            }
            performanceMessage.textContent = message;
            
            modal.classList.add('open');
        }

        /**
         * Επαναφέρει το παιχνίδι στην αρχική του κατάσταση.
         */
        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            scoreDisplay.textContent = score;
            modal.classList.remove('open');
            loadQuestion();
        }

        // Σύνδεση Event Listeners
        nextBtn.addEventListener('click', nextQuestion);
        restartBtn.addEventListener('click', restartQuiz);

        // Εκκίνηση του Κουίζ
        loadQuestion();
    </script>
</body>
</html>
